(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){e.exports=a(222)},140:function(e,t,a){},218:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var n=a(11),r=(a(132),a(134),a(0)),o=a.n(r),c=a(26),i=a.n(c),l=a(237),s=(a(140),a(49)),u=a(232),m=a(228),p=a(238),d=a(33),h=a(127),b=a(236),g=a(2),f=a.n(g),E=a(5),y=a(10),v=a.n(y),x={apiHost:"https://buffalo-journal.herokuapp.com",stripeKey:"pk_live_doxQ9etmZ8nozRk89VmvoOrZ"};v.a.defaults.headers.common.Accept="application/json";var w=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)({}),i=Object(n.a)(c,2),l=i[0],s=i[1],u=Object(r.useMemo)(function(){return null!=l.subscription_id},[l]),m=Object(r.useMemo)(function(){return null!=l.subscription_id&&null!=l.phone_number},[l]),p=function(e,t){v.a.defaults.headers.common.Authorization="Bearer "+e,v.a.defaults.headers.common["X-Dumb-Authorization"]="Bearer "+e,window.localStorage.setItem("token",e),v.a.get("".concat(x.apiHost,"/auth/google")).then(function(e){s(e.data),o(!0),t&&t()})},d=function(){var e=Object(E.a)(f.a.mark(function e(t,a){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.a.defaults.headers.common.Authorization="Bearer "+t,v.a.defaults.headers.common["X-Dumb-Authorization"]="Bearer "+t,e.next=4,v.a.get("".concat(x.apiHost,"/auth/auth0"));case 4:n=e.sent,s(n.data),o(!0),a&&a();case 8:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(E.a)(f.a.mark(function e(t,a,n){var r,o,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window.localStorage.getItem("token"),o=window.localStorage.getItem("authProvider")||"google",!t&&"auth0"!==o){e.next=13;break}if(r){e.next=11;break}return e.next=6,a();case 6:return c=e.sent,window.localStorage.setItem("token",c),window.localStorage.setItem("authProvider","auth0"),d(c,n),e.abrupt("return");case 11:return d(r,n),e.abrupt("return");case 13:r?p(r,n):n&&n();case 14:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),b=function(e,t){console.log("bye now!");var a=window.localStorage.getItem("authProvider")||"google";window.localStorage.removeItem("token"),window.localStorage.removeItem("authProvider"),o(!1),s({}),"auth0"===a&&e&&e({returnTo:"https://todayi.page"}),t&&t()};return Object(r.useMemo)(function(){return{isAuthenticated:a,user:l,isSubscribed:u,isSetUp:m,authenticate:p,authenticateAuth0:d,autoLogin:h,signout:b}},[a,l,u,m])},O=Object(r.createContext)(),k=function(e){var t=e.component,a=Object(h.a)(e,["component"]),n=Object(r.useContext)(O);return o.a.createElement(m.a,Object.assign({},a,{render:function(e){return!0===n.isAuthenticated?o.a.createElement(t,e):o.a.createElement(b.a,{to:{pathname:"/",state:{from:e.location.pathname}}})}}))},j=a(233),C=a(234),S=a(235),A=a(229),M=a(24),P=a(74),I=a(34),_=a(44),D=function(){var e=Object(I.b)(),t=e.loginWithRedirect,a=(e.isAuthenticated,e.getAccessTokenSilently,Object(r.useState)("")),c=Object(n.a)(a,2),i=c[0],l=c[1],s=Object(r.useContext)(O),u=[{title:"Football Coach",src:"football_coach.png"},{title:"Obsessed with Cats",src:"cat_facts.png"},{title:"Overbearing Mother-in-Law",src:"mother-in-law.png"},{title:"Valley Girl",src:"valley_girl.png"}],m=Object(r.useState)(0),p=Object(n.a)(m,2),d=p[0],h=p[1];Object(r.useEffect)(function(){if(document.getElementById("pricing-table-container")){var e=document.createElement("stripe-pricing-table");return e.setAttribute("pricing-table-id","prctbl_1MWXrPK4AmBVQHakVF3utjUB"),e.setAttribute("publishable-key","pk_live_doxQ9etmZ8nozRk89VmvoOrZ"),document.getElementById("pricing-table-container").appendChild(e),function(){document.getElementById("pricing-table-container")&&(document.getElementById("pricing-table-container").innerHTML="")}}},[s,s.isAuthenticated]),Object(r.useEffect)(function(){s.isAuthenticated&&s.isSetUp?l("/journal/".concat(s.user.id)):s.isAuthenticated&&!s.isSetUp&&_.b.error("I'm sorry, there was no active subscription found for that login. Sign up below or try signing in with the correct login.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"light",onClose:s.signout()})},[s,s.isAuthenticated]);var g=function(){var e=Object(E.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y={fontSize:"15px",borderRadius:"6px",cursor:"pointer",color:"white",marginLeft:"8px"},x=Object(M.a)({},y,{backgroundColor:"#db4437"}),w=Object(M.a)({},y,{padding:"10px 20px",background:"linear-gradient(to right, rgb(128, 100, 181), rgb(85, 100, 181), rgb(85, 100, 109)"});return i?o.a.createElement(b.a,{to:i}):!s.isAuthenticated&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},o.a.createElement("span",{style:{color:"white",marginRight:"8px"}},"Login with:"),o.a.createElement(P.GoogleLogin,{style:x,clientId:"300709606324-sec60nd2b4hba9b1gkqdcpdlhv2p89kk.apps.googleusercontent.com",buttonText:"Google",onSuccess:function(e){s.authenticate(e.tokenId)},onFailure:function(e){console.log("login failed",e),v.a.defaults.headers.common.Authorization=null}}),o.a.createElement("button",{style:w,onClick:g},"Password")),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"0px"}},o.a.createElement("img",{src:"/logo-color.png",style:{},width:"500px"}),o.a.createElement("h3",{style:{color:"white",width:"80%",textAlign:"center",opacity:"30%"}},"powered by AI"),o.a.createElement("p",{style:{color:"white",width:"80%",marginBottom:"8px",textAlign:"center"}},"Get a daily text to prompt you to journal about your day. Reflect on the events, emotions, and experiences that shape your life and give you a new perspective on what's important. Ask questions about your past and get helpful answers."),o.a.createElement(A.a,{to:"/public/6fffcbb6-e93b-4619-8602-5132aa19f1f5/journal?order=ASC",style:{color:"white"}},"Click to see Chat GPT's public journal entries"),o.a.createElement("div",{id:"pricing-table-container",style:{width:"90%",marginBottom:"30px"}}),o.a.createElement("div",{style:{marginBottom:"30px",textAlign:"center"},onClick:function(){h(d!==u.length-1?d+1:0)}},o.a.createElement("h2",{style:{color:"white",textAlign:"center",opacity:"60%"}},"Examples"),o.a.createElement("h4",{style:{color:"white",textAlign:"center",opacity:"30%"}},u[d].title),o.a.createElement("div",{style:{maxHeight:"500px",overflow:"hidden",overflowY:"scroll",alignItems:"center",textAlign:"center"}},o.a.createElement("img",{src:u[d].src,width:"80%"})),o.a.createElement("span",{style:{color:"white",textAlign:"center",opacity:"100%"}},"Click for Next"))))};function L(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],c=t[1],i=Object(r.useContext)(O),l=Object(I.b)().logout;return o.a.createElement("div",null,function(){if(a)return o.a.createElement(b.a,{to:"/"})}(),o.a.createElement(j.a.Item,{onSelect:function(){i.signout(l,function(){c(!0)})}},"Logout"))}var T=function(e){var t=function(e){if(!e)return null;var t=e.split("/"),a=t.indexOf("public");return-1===a?null:t[a+1]}(e.location),a=Object(r.useState)(null),c=Object(n.a)(a,2),i=c[0],l=c[1],s=Object(r.useContext)(O);return Object(r.useEffect)(function(){t&&!i&&v.a.get("".concat(x.apiHost,"/public/").concat(t,"/")).then(function(e){l(e.data)})},[t]),o.a.createElement(C.a,{sticky:"top"},o.a.createElement(o.a.Fragment,null,!t&&s.isAuthenticated?o.a.createElement(S.a,null,o.a.createElement(j.a,{title:"Monthly",id:"summaries-dropdown"},o.a.createElement(S.a.Link,{as:A.a,eventKey:"overviews",to:"/summaries/".concat(s.user.id,"/default")},"Overviews"),o.a.createElement(S.a.Link,{as:A.a,eventKey:"haikus",to:"/summaries/".concat(s.user.id,"/haiku")},"Haikus"),o.a.createElement(S.a.Link,{as:A.a,eventKey:"poetry",to:"/summaries/".concat(s.user.id,"/poetry")},"Poems")),o.a.createElement(S.a.Link,{as:A.a,eventKey:"journal",to:"/journal/".concat(s.user.id)},"Journal"),o.a.createElement(S.a.Link,{as:A.a,eventKey:"settings",to:"/settings/".concat(s.user.id)},"Settings"),o.a.createElement(j.a,{title:s.user.first_name,id:"user-dropdown"},o.a.createElement(L,null))):t&&i?o.a.createElement(S.a,null,o.a.createElement(j.a,{title:"".concat(i.first_name,"'s Months"),id:"public-summaries-dropdown"},o.a.createElement(S.a.Link,{as:A.a,eventKey:"public-overviews",to:"/public/".concat(t,"/summaries/default")},"Public Overviews"),o.a.createElement(S.a.Link,{as:A.a,eventKey:"public-haikus",to:"/public/".concat(t,"/summaries/haiku")},"Public Haikus"),o.a.createElement(S.a.Link,{as:A.a,eventKey:"public-poetry",to:"/public/".concat(t,"/summaries/poetry")},"Public Poems")),o.a.createElement(S.a.Link,{as:A.a,eventKey:"public-journal",to:"/public/".concat(t,"/journal")},"Public Journal"),o.a.createElement(S.a.Link,{as:A.a,eventKey:"public-signin",to:"/"},s.isAuthenticated?"Mine":"Sign Up")):null))},R=a(12),B=a(19),U=a(21),H=a(15),z=a(20),F=a(45),K=a.n(F),Y=a(48),N=a.n(Y),G=a(230),V=a(231),W=a(61),Z=a.n(W),J=a(35),Q=a(36),X=a(37);function q(e){var t={position:"relative",left:"4px",top:"4px",color:"rgba(".concat(e.color.r,",").concat(e.color.g,",").concat(e.color.b,",0.1)"),":hover":{color:"rgba(".concat(e.color.r,",").concat(e.color.g,",").concat(e.color.b,",0.4)")}},a={cursor:"pointer",":hover":{color:"rgba(".concat(e.color.r,",").concat(e.color.g,",").concat(e.color.b,",1)")}},n=function(){var t=Object(E.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.delete(e.entryUrl);case 3:e.handleDelete&&e.handleDelete(e.entryId),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(){return t.apply(this,arguments)}}();return o.a.createElement("div",{style:t},o.a.createElement("div",null,o.a.createElement("div",{key:"trash".concat(e.entryId),className:"trash",style:a},o.a.createElement("a",{onClick:n},o.a.createElement(Q.a,{icon:X.c})))))}function $(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),c=a[0],i=a[1],l="linear-gradient(0deg, rgba(".concat(e.endColor.r,",").concat(e.endColor.g,",").concat(e.endColor.b,",1) 0%, rgba(").concat(e.startColor.r,",").concat(e.startColor.g,",").concat(e.startColor.b,",1) 100%)"),s=e.periodStart?"15px":"0px",u=e.periodEnd?"15px":"0px",m={background:l,marginBottom:"2px",padding:"15px"},p=Object(M.a)({},m,{color:"white",marginRight:"2px",borderTopLeftRadius:s,borderBottomLeftRadius:u}),d=Object(M.a)({},m,{background:l,color:"black",borderTopRightRadius:s,borderBottomRightRadius:u,fontSize:"20px"}),h={backgroundColor:"white",padding:"10px",borderTopRightRadius:s,borderBottomRightRadius:u,opacity:"70%"};return c?null:o.a.createElement(G.a,null,o.a.createElement(V.a,{md:2,mdOffset:2,sm:2,smOffset:2,style:p},o.a.createElement(G.a,null,o.a.createElement(V.a,null,o.a.createElement(K.a,{format:"YYYY/MM/DD"},e.data.date))),o.a.createElement(G.a,null,o.a.createElement(V.a,null,o.a.createElement(K.a,{style:{opacity:"50%"},format:"dddd"},e.data.date))),o.a.createElement(G.a,null,o.a.createElement(V.a,null,o.a.createElement(K.a,{style:{opacity:"50%"},fromNow:!0},e.data.date)))),o.a.createElement(V.a,{style:d},o.a.createElement("div",{style:h},e.data.entry)),!e.isPublic&&o.a.createElement(q,{entryId:e.data.id,entryUrl:e.data.selfUrl,color:e.startColor,handleDelete:function(){i(!0)}}))}q=Object(s.a)(q);var ee=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(U.a)(this,Object(H.a)(t).call(this,e))).loadUser=function(){v.a.get("".concat(x.apiHost,"/public/").concat(a.props.match.params.userId,"/")).then(function(e){a.setState({publicUser:e.data})})},a.loadEntries=function(e){var t=a.state.isDesc?"DESC":"ASC";v.a.get("".concat(a.url,"?page=").concat(e,"&per_page=").concat(20,"&order=").concat(t)).then(function(e){var t=a.state.entries,n=e.data,r=a.state.color,o=function(e){var t=Math.floor(32*Math.random()),a=1-e/128;return Math.random()<a?e+t:e-t},c=0;n.forEach(function(e){e.selfUrl="".concat(x.apiHost,"/users/").concat(a.props.match.params.userId,"/entries/").concat(e.id);var i={r:o(r.r),g:o(r.g),b:o(r.b)};if(e.startColor=r,e.endColor=i,(0===t.length||n[c-1]&&n[c-1].periodEnd)&&(e.periodStart=!0),n.length>c+1){var l=n[c+1];N()(e.date).month()!=N()(l.date).month()&&(e.periodEnd=!0)}c++,t.push(e),r=i});var i=!0;n.length<20&&(i=!1),a.setState({entries:t,hasMore:i,color:r})})},a.isPublic=a.props.location.pathname.includes("public"),a.url=a.isPublic?"".concat(x.apiHost,"/public/").concat(a.props.match.params.userId,"/entries/"):"".concat(x.apiHost,"/users/").concat(a.props.match.params.userId,"/entries/"),a.state={isDesc:!(a.props.location.search.indexOf("order=ASC")>=0),entries:[],publicUser:null,hasMore:!0,color:{r:1,g:5,b:54}},a}return Object(z.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.isPublic&&this.loadUser()}},{key:"render",value:function(){var e=this,t=[];return this.state.entries.forEach(function(a){t.push(o.a.createElement($,{isPublic:e.isPublic,startColor:a.startColor,endColor:a.endColor,key:a.id,periodStart:a.periodStart,periodEnd:a.periodEnd,data:a}))}),o.a.createElement("div",{key:this.state.isDesc},o.a.createElement(J.CoffeeLoading,{style:{position:"relative",left:"50%",marginBottom:"10px"}}),this.isPublic?this.state.publicUser&&this.state.publicUser.first_name&&o.a.createElement("h3",{style:{textAlign:"center",fontFamily:"'Playfair Display', serif",opacity:"70%"}},"Today, ",this.state.publicUser.first_name," ",this.state.publicUser.last_name,"..."):o.a.createElement("h3",{style:{textAlign:"center",fontFamily:"'Playfair Display', serif",opacity:"70%"}},"Today, I..."),o.a.createElement("a",{style:{position:"relative",left:"50%",marginBottom:"10px"},onClick:function(){return e.setState({isDesc:!e.state.isDesc,entries:[],hasMore:!0})}},this.state.isDesc?o.a.createElement(Q.a,{icon:X.a}):o.a.createElement(Q.a,{icon:X.b})),o.a.createElement(Z.a,{pageStart:0,loadMore:this.loadEntries.bind(this),hasMore:this.state.hasMore,loader:o.a.createElement(J.LoopCircleLoading,{size:"small",style:{position:"relative",left:"50%",marginTop:"20px"}})},t))}}]),t}(r.Component),te=a(39),ae=a(13),ne=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(U.a)(this,Object(H.a)(t).call(this,e))).submit=a.submit.bind(Object(ae.a)(Object(ae.a)(a))),a}return Object(z.a)(t,e),Object(B.a)(t,[{key:"submit",value:function(){var e=Object(E.a)(f.a.mark(function e(t){var a,n,r=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.stripe.createToken({name:this.props.userId});case 2:a=e.sent,n=a.token,v.a.post("".concat(x.apiHost,"/users/").concat(this.props.userId,"/subscription"),{card_token:n.id}).then(function(e){r.props.cb&&r.props.cb()});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",{className:"checkout"},o.a.createElement("p",null,"Subscribe for ",o.a.createElement("strong",null,"$24")," per year with a 14-day free trial, cancel anytime"),o.a.createElement(d.CardElement,null),o.a.createElement("button",{onClick:this.submit},"Subscribe for $24"))}}]),t}(r.Component),re=Object(d.injectStripe)(ne);function oe(e){if(!e.days)return null;var t=Object(r.useState)(parseInt(e.days,2)),a=Object(n.a)(t,2),c=a[0],i=a[1];var l=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=[{start:"rgb(128, 0, 181)",end:"rgb(128, 0, 181)"},{start:"rgb(128, 0, 181)",end:"rgb(85, 0, 181)"},{start:"rgb(85, 0, 181)",end:"rgb(85, 10, 109)"},{start:"rgb(85, 10, 109)",end:"rgb(101, 20, 80"},{start:"rgb(101, 20, 80)",end:"rgb(101, 60, 30)"},{start:"rgb(101, 60, 30)",end:"rgb(40, 110, 50)"},{start:"rgb(40, 110, 50)",end:"rgb(10, 140, 90)"}];return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"300px"}},l.map(function(t,a){return o.a.createElement("button",{id:"day-".concat(a,"-").concat(s[a].start),key:a,style:{background:c&1<<a?"linear-gradient(to right, ".concat(s[a].start,", ").concat(s[a].end,")"):"white",color:c&1<<a?"white":"black",border:"none",padding:"5px 10px",borderRadius:0===a?"25px 0 0 25px":a===l.length-1?"0 25px 25px 0":"none"},onClick:function(t){t.preventDefault(),function(t){var a=1<<t;i(function(e){return e^a}),e.handleChange&&e.handleChange((c^a).toString(2).padStart(7,"0"))}(a)}},t)}))}var ce=function(e){var t=Object(r.useContext)(O),a=Object(r.useState)({}),c=Object(n.a)(a,2),i=c[0],l=c[1],s=Object(r.useState)(t.isSubscribed),u=Object(n.a)(s,2),m=u[0],p=u[1];Object(r.useEffect)(function(){v.a.get("".concat(x.apiHost,"/users/").concat(e.match.params.userId,"/")).then(function(e){l({days_of_week:e.data.days_of_week,phone_number:e.data.phone_number,send_hour:e.data.send_hour,time_zone:e.data.time_zone,prompt:e.data.prompt})})},[e.match.params.userId]);var h=function(e,t){l(Object(M.a)({},i,Object(te.a)({},e,t)))};return o.a.createElement("div",null,o.a.createElement(G.a,null,o.a.createElement(V.a,null,m?o.a.createElement("form",{className:""},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",{style:{textAlign:"center",fontStyle:"bold",fontFamily:"'Playfair Display', serif",opacity:"100%"}},"Phone Number")),o.a.createElement("td",null,o.a.createElement("input",{style:{border:"none",padding:"5px",marginLeft:"8px",background:"linear-gradient(to right, rgb(0, 128, 181), rgb(128, 0, 181))",color:"white"},type:"text",value:i.phone_number,onChange:function(e){return h(e.target.name,e.target.value)},name:"phone_number"}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",{style:{textAlign:"center",fontStyle:"bold",fontFamily:"'Playfair Display', serif",opacity:"100%"}},"Custom Message")),o.a.createElement("td",null,o.a.createElement("input",{style:{border:"none",padding:"5px",marginLeft:"8px",background:"linear-gradient(to right, rgb(0, 128, 181), rgb(128, 0, 181))",color:"white"},type:"text",value:i.prompt,onChange:function(e){return h(e.target.name,e.target.value)},name:"prompt"}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",{style:{textAlign:"center",fontStyle:"bold",fontFamily:"'Playfair Display', serif",opacity:"100%"}},"Send Hour")),o.a.createElement("td",null,o.a.createElement("select",{id:"hour",style:{width:"22%",border:"none",padding:"5px",marginLeft:"8px",background:"linear-gradient(to right, rgb(0, 128, 181), rgb(128, 0, 181))",color:"white"},type:"text",value:i.send_hour,onChange:function(e){return h(e.target.name,parseInt(e.target.value))},name:"send_hour"},o.a.createElement("option",{value:""},"Choose an hour"),o.a.createElement("option",{value:"6"},"6 AM"),o.a.createElement("option",{value:"7"},"7 AM"),o.a.createElement("option",{value:"8"},"8 AM"),o.a.createElement("option",{value:"9"},"9 AM"),o.a.createElement("option",{value:"10"},"10 AM"),o.a.createElement("option",{value:"11"},"11 AM"),o.a.createElement("option",{value:"12"},"12 PM"),o.a.createElement("option",{value:"13"},"1 PM"),o.a.createElement("option",{value:"14"},"2 PM"),o.a.createElement("option",{value:"15"},"3 PM"),o.a.createElement("option",{value:"16"},"4 PM"),o.a.createElement("option",{value:"17"},"5 PM"),o.a.createElement("option",{value:"18"},"6 PM"),o.a.createElement("option",{value:"19"},"7 PM"),o.a.createElement("option",{value:"20"},"8 PM"),o.a.createElement("option",{value:"21"},"9 PM"),o.a.createElement("option",{value:"22"},"10 PM"),o.a.createElement("option",{value:"23"},"11 PM")),o.a.createElement("select",{id:"timezone",value:i.time_zone,style:{maxWidth:"27%",border:"none",padding:"5px",background:"linear-gradient(to right, rgb(128, 0, 181), rgb(101, 20, 80)",color:"white"},name:"send_hour",onChange:function(e){return h(e.target.name,parseInt(e.target.value))}},o.a.createElement("option",{value:"America/New_York"},"Eastern Time (ET)"),o.a.createElement("option",{value:"America/Chicago"},"Central Time (CT)"),o.a.createElement("option",{value:"America/Denver"},"Mountain Time (MT)"),o.a.createElement("option",{value:"America/Phoenix"},"Arizona Time"),o.a.createElement("option",{value:"America/Los_Angeles"},"Pacific Time (PT)"),o.a.createElement("option",{value:"America/Anchorage"},"Alaska Time (AKT)"),o.a.createElement("option",{value:"America/Adak"},"Hawaii-Aleutian Time (HAT)")))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("label",{style:{textAlign:"center",fontStyle:"bold",fontFamily:"'Playfair Display', serif",opacity:"100%"}},"Send on Days")),o.a.createElement("td",null,o.a.createElement(oe,{days:i.days_of_week,handleChange:function(e){return h("days_of_week",e)}}))))),o.a.createElement("p",null,o.a.createElement("input",{style:{background:"none",border:"1px solid #cccccc",borderRadius:"8px"},onMouseOver:function(e){return e.target.style.border="1px solid #888888"},onMouseOut:function(e){return e.target.style.border="1px solid #cccccc"},type:"submit",value:"Save",onClick:function(t){t.preventDefault(),v.a.put("".concat(x.apiHost,"/users/").concat(e.match.params.userId,"/"),i).then(function(e){_.b.success("Success!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})}}))):null)),o.a.createElement(G.a,null,o.a.createElement(V.a,null,!m&&o.a.createElement(d.Elements,null,o.a.createElement(re,{userId:e.match.params.userId,cb:function(){p(!0),t.user.subscription_id="they subbed dont worry about it"}})))),o.a.createElement(G.a,null,o.a.createElement(V.a,null,o.a.createElement("a",{href:"https://portal.todayi.page/p/login/8wM9B80PK3I78PSbII",target:"_blank"},"Manage Subscription"))))};var ie=function(e){return o.a.createElement("div",null,o.a.createElement(D,null))};a(217);function le(e){var t=Object(r.useState)({}),a=Object(n.a)(t,2),c=(a[0],a[1],"linear-gradient(0deg, rgba(".concat(e.endColor.r,",").concat(e.endColor.g,",").concat(e.endColor.b,",1) 0%, rgba(").concat(e.startColor.r,",").concat(e.startColor.g,",").concat(e.startColor.b,",1) 100%)")),i=e.periodStart?"15px":"0px",l=e.periodEnd?"15px":"0px",s={background:c,marginBottom:"2px",padding:"15px"},u=Object(M.a)({},s,{color:"white",marginRight:"2px",borderTopLeftRadius:i,borderBottomLeftRadius:l}),m=Object(M.a)({},s,{background:c,color:"black",borderTopRightRadius:i,borderBottomRightRadius:l,fontSize:"20px"}),p={whiteSpace:"pre-wrap",backgroundColor:"white",padding:"10px",borderTopRightRadius:i,borderBottomRightRadius:l,opacity:"70%"};return o.a.createElement(G.a,null,o.a.createElement(V.a,{md:2,mdOffset:2,sm:2,smOffset:2,style:u},o.a.createElement(G.a,null,o.a.createElement(V.a,null,o.a.createElement(K.a,{format:"MMM YYYY"},e.data.start_date)))),o.a.createElement(V.a,{style:m},e.data.summary?o.a.createElement("div",{style:p},e.data.summary.trim()):o.a.createElement(J.CoffeeLoading,null)))}var se=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(U.a)(this,Object(H.a)(t).call(this,e))).loadSummaries=function(){var e=Object(E.a)(f.a.mark(function e(t){var n,r,o,c,i,l,s,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1,r=a.state.isDesc?"DESC":"ASC",e.next=4,v.a.get("".concat(a.url,"?page=").concat(t,"&per_page=").concat(n,"&style=").concat(a.props.match.params.style,"&order=").concat(r));case 4:o=e.sent,c=a.state.summaries,i=o.data,l=a.state.color,s=function(e){var t=Math.floor(32*Math.random()),a=1-e/128;return Math.random()<a?e+t:e-t},i.forEach(function(e){if("00000000-0000-0000-0000-000000000000"!==e.id){var t={r:s(l.r),g:s(l.g),b:s(l.b)};e.startColor=l,e.endColor=t,l=t,c.push(e)}}),u=!0,i.length<n&&(u=!1),a.setState({summaries:c,hasMore:u,color:l});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.loadUser=function(){v.a.get("".concat(x.apiHost,"/public/").concat(a.props.match.params.userId,"/")).then(function(e){a.setState({publicUser:e.data})})},a.isPublic=a.props.location.pathname.includes("public"),a.url=a.isPublic?"".concat(x.apiHost,"/public/").concat(a.props.match.params.userId,"/summaries/").concat(a.props.match.params.style):"".concat(x.apiHost,"/users/").concat(a.props.match.params.userId,"/summaries/"),a.state={summaries:[],isDesc:"ASC"!==a.props.match.params.order,hasMore:!0,publicUser:null,color:{r:128,g:0,b:181}},a}return Object(z.a)(t,e),Object(B.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.style!==this.props.match.params.style&&this.setState({summaries:[],hasMore:!0})}},{key:"componentDidMount",value:function(){this.isPublic&&this.loadUser()}},{key:"render",value:function(){var e=this,t=[];return this.state.summaries.forEach(function(a){t.push(o.a.createElement(le,{startColor:a.startColor,endColor:a.endColor,key:e.props.match.params.style+a.start_date+a.id,periodStart:!0,periodEnd:!0,data:a}))}),o.a.createElement("div",{key:this.props.match.params.style+this.state.isDesc},o.a.createElement(J.CoffeeLoading,{style:{position:"relative",left:"50%",marginBottom:"10px"}}),this.isPublic?this.state.publicUser&&this.state.publicUser.first_name?o.a.createElement("h3",{style:{textAlign:"center",fontFamily:"'Playfair Display', serif",opacity:"70%"}},"This month, ",this.state.publicUser.first_name," ",this.state.publicUser.last_name,"..."):null:o.a.createElement("h3",{style:{textAlign:"center",fontFamily:"'Playfair Display', serif",opacity:"70%"}},"This month, I..."),o.a.createElement("a",{style:{position:"relative",left:"50%",marginBottom:"10px"},onClick:function(){return e.setState({isDesc:!e.state.isDesc,summaries:[],hasMore:!0})}},this.state.isDesc?o.a.createElement(Q.a,{icon:X.a}):o.a.createElement(Q.a,{icon:X.b})),o.a.createElement(Z.a,{pageStart:0,loadMore:this.loadSummaries.bind(this),hasMore:this.state.hasMore,loader:o.a.createElement(J.LoopCircleLoading,{size:"small",style:{position:"relative",left:"50%",marginTop:"20px"}})},t))}}]),t}(r.Component);a(218),a(220);var ue=Object(s.a)(Object(p.a)(function(){var e=Object(r.useState)("#010536"),t=Object(n.a)(e,2),a=t[0],c=t[1],i=Object(r.useContext)(O);return Object(r.useEffect)(function(){i.isAuthenticated?c("white"):c("#010536")},[i,i.isAuthenticated]),Object(r.useEffect)(function(){i.isAuthenticated||window.location.pathname.indexOf("public")>0?c("white"):c("#010536")}),o.a.createElement("div",{style:{backgroundColor:a,height:"100%",minHeight:"100vh",width:"100%",minWidth:"100vw"}},o.a.createElement(u.a,null,o.a.createElement(d.StripeProvider,{apiKey:x.stripeKey},o.a.createElement("div",null,o.a.createElement(_.a,null),o.a.createElement(T,{location:window.location.href}),o.a.createElement(k,{path:"/journal/:userId",component:ee}),o.a.createElement(k,{path:"/summaries/:userId/:style",component:se}),o.a.createElement(k,{path:"/settings/:userId",component:ce}),o.a.createElement(m.a,{path:"/public/:userId/journal",component:ee}),o.a.createElement(m.a,{path:"/public/:userId/summaries/:style",component:se}),o.a.createElement(m.a,{exact:!0,path:"/",component:ie})))))}));a.d(t,"AuthProvider",function(){return me});var me=function(e){var t=e.children,a=w();return o.a.createElement(O.Provider,{value:a},t)},pe=function(e){var t=Object(I.b)(),a=t.isAuthenticated,c=t.getAccessTokenSilently,i=Object(r.useContext)(O),l=Object(r.useState)(!0),s=Object(n.a)(l,2),u=s[0],m=s[1],p=function(){m(!1)};return Object(r.useEffect)(function(){i.autoLogin(a,c,p)},[a]),o.a.createElement(o.a.Fragment,null,u?o.a.createElement("div",null,"Loading..."):e.children)};i.a.render(o.a.createElement(I.a,{domain:"dev-ho6uvwopondwbfy0.us.auth0.com",clientId:"mDadHnSi7Nu5FDNA3MZe0FYUwLStYR1r",authorizationParams:{audience:"buffalo-journal.herokuapp.com",redirect_uri:window.location.origin}},o.a.createElement(me,null,o.a.createElement(pe,null,o.a.createElement(l.a,null,o.a.createElement(ue,null))))),document.getElementById("root"))}},[[131,2,1]]]);
//# sourceMappingURL=main.847fdce3.chunk.js.map