{"version":3,"sources":["services/config.js","services/auth.js","components/login/PrivateRoute.js","components/login/Login.js","components/nav/NavBar.js","components/pages/Entries.js","components/pages/stripe/CheckoutForm.js","components/pages/Settings.js","components/pages/Summaries.js","App.js","index.js"],"names":["config","apiHost","stripeKey","axios","defaults","headers","common","auth","isAuthenticated","isSubscribed","user","subscription_id","isSetUp","phone_number","authenticate","googleToken","cb","window","localStorage","setItem","get","concat","then","authResponse","data","autoLogin","storedToken","getItem","signout","console","log","removeItem","PrivateRoute","_ref","Component","component","rest","Object","objectWithoutProperties","react_default","a","createElement","Route","assign","render","props","Redirect","to","pathname","state","from","location","Login","dst","query","responseGoogle","response","tokenId","_this","setState","id","failGoogle","componentWillMount","_this$state","this","google_login","clientId","buttonText","onSuccess","onFailure","Logout","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","logout","redirect","renderRedirect","NavDropdown","Item","onSelect","NavBar","Navbar","sticky","Nav","defaultActiveKey","Link","as","eventKey","title","first_name","NavBar_Logout","login_Login","EntryToolbox","toolboxStyle","position","left","top","color","r","g","b",":hover","toolStyle","cursor","handleDelete","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","delete","entryUrl","entryId","t0","stop","apply","arguments","style","key","className","onClick","index_es","icon","faTrash","Entry","_useState","useState","_useState2","slicedToArray","deleted","setDeleted","gradient","endColor","startColor","topCornerRadius","periodStart","bottomCornerRadius","periodEnd","baseStyle","background","marginBottom","padding","dateInfoStyle","objectSpread","marginRight","borderTopLeftRadius","borderBottomLeftRadius","entryColStyle","borderTopRightRadius","borderBottomRightRadius","fontSize","entryStyle","backgroundColor","opacity","Row","Col","md","mdOffset","sm","smOffset","dist_default","format","date","fromNow","entry","selfUrl","Radium","Entries","loadEntries","pageNum","order","isDesc","match","params","userId","resp","entries","loadedEntries","randDiff","num","diff","Math","floor","random","plusMinusRatio","currentIdx","forEach","length","nextEntry","moment","month","push","hasMore","_this2","items","lib","faSortDown","faSortUp","react_infinite_scroller_default","pageStart","loadMore","bind","loader","marginTop","CheckoutForm","submit","assertThisInitialized","ev","stripe","createToken","name","token","post","card_token","react_stripe_elements_es","injectStripe","Settings","handleChange","event","phoneNumber","target","value","handleSubmit","put","alert","preventDefault","handleSubscribe","type","onChange","href","stripe_CheckoutForm","Summary","whiteSpace","start_date","summary","trim","Summaries","loadSummaries","perPage","summaries","loadedSummaries","sent","eg","_x","v","App","Container","apiKey","BrowserRouter","nav_NavBar","login_PrivateRoute","path","ReactDOM","HashRouter","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.b8f43846.chunk.js","sourcesContent":["const config = {\n    // apiHost: \"http://localhost:3000\",\n    // stripeKey: \"pk_test_Yptgsj6W2rIreWbKt0mUi2R5\"\n    apiHost: \"https://buffalo-journal.herokuapp.com\",\n    stripeKey: \"pk_live_doxQ9etmZ8nozRk89VmvoOrZ\"\n}\n\nexport default config;","import axios from 'axios';\nimport config from './config.js';\n\naxios.defaults.headers.common['Accept'] = \"application/json\";\n\nconst auth = {\n    isAuthenticated: false,\n    isSubscribed() {\n        return auth.user.subscription_id != null ;\n    },\n    isSetUp() {\n        return auth.user.subscription_id != null && auth.user.phone_number != null;\n    },\n    authenticate(googleToken, cb) {\n        axios.defaults.headers.common['Authorization'] = \"Bearer \" + googleToken;\n        axios.defaults.headers.common['X-Dumb-Authorization'] = \"Bearer \" + googleToken;\n\n        window.localStorage.setItem(\"token\", googleToken);\n\n\t\taxios.get(`${config.apiHost}/auth/google`)\n\t\t.then((authResponse) => {\n            auth.isAuthenticated = true\n            auth.user = authResponse.data;\n\n            if (cb) cb();\n\t\t});\n        \n    },\n    autoLogin(cb) {\n        const storedToken = window.localStorage.getItem(\"token\");\n        if (storedToken) {\n            auth.authenticate(storedToken, cb);\n        }\n    },\n    signout(cb) {\n        console.log(\"bye now!\");\n        auth.isAuthenticated = false;\n        auth.user = null;\n        window.localStorage.removeItem(\"token\");\n\n        if (cb) cb();\n    }\n}\n\n\n\nexport default auth;","import React from 'react';\nimport {\n    Route,\n    Redirect\n} from 'react-router-dom';\nimport auth from '../../services/auth.js';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route {...rest} render={(props) => (\n        auth.isAuthenticated === true\n            ? <Component {...props} />\n            : <Redirect to={{\n                pathname: '/',\n                state: { from: props.location }\n            }}\n            />\n    )} />\n);\n\nexport default PrivateRoute;","import React, { Component } from 'react';\nimport {\n\tRedirect\n  } from 'react-router-dom';\nimport { GoogleLogin } from 'react-google-login';\nimport axios from 'axios';\nimport auth from '../../services/auth.js';\n\nclass Login extends Component {\n\tstate = {\n\t\tdst: \"\",\n\t\tquery: \"\"\n\t};\n\n\tresponseGoogle = (response) => {\n\t\tauth.authenticate(response.tokenId, () => {\n\t\t\tif (auth.isAuthenticated && auth.isSetUp()) {\n\t\t\t\tthis.setState({ dst: `/journal/${auth.user.id}` });\n\t\t\t} else if (auth.isAuthenticated && !auth.isSetUp()) {\n\t\t\t\tthis.setState({ dst: `/settings/${auth.user.id}` });\n\t\t\t}\n\t\t})\n\t}\n\n\tfailGoogle = (response) => {\n\t\tconsole.log(\"login failed\", response);\n\t\taxios.defaults.headers.common['Authorization'] = null;\n\t}\n\n\tcomponentWillMount = () => {\n\t\tauth.autoLogin(() => {\n\t\t\tif (auth.isAuthenticated && auth.isSetUp()) {\n\t\t\t\tdebugger\n\t\t\t\tthis.setState({ dst: `/journal/${auth.user.id}`, query: window.location.query });\n\t\t\t} else if (auth.isAuthenticated && !auth.isSetUp()) {\n\t\t\t\tthis.setState({ dst: `/settings/${auth.user.id}`, query: window.location.query });\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\tconst { dst, query } = this.state;\n\t\n\t\tif (dst && window.location.pathname !== dst) {\n\t\t\tdebugger;\n\t\t  return <Redirect to={{pathname:dst, query:query}} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<GoogleLogin\n\t\t\t\tclientId=\"300709606324-sec60nd2b4hba9b1gkqdcpdlhv2p89kk.apps.googleusercontent.com\"\n\t\t\t\tbuttonText=\"Login\"\n\t\t\t\tonSuccess={this.responseGoogle}\n\t\t\t\tonFailure={this.failGoogle}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport { Link, Redirect } from 'react-router-dom';\nimport Login from '../login/Login.js';\nimport auth from '../../services/auth.js'\n\n\n\nclass Logout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tredirect: false\n\t\t};\n    }\n    \n    logout = () => {\n        auth.signout(() => {\n            this.setState({\n                redirect: true\n            });\n        });\n        \n    }\n\n    renderRedirect = () => {\n        if (this.state.redirect) {\n            return <Redirect to='/' />\n        }\n      }\n\n\trender() {\n\t\treturn (\n            <div>\n                {this.renderRedirect()}\n                <NavDropdown.Item onSelect={this.logout}>\n                    Logout\n                </NavDropdown.Item>\n            </div>\n\t\t);\n\t}\n}\n\n\nfunction NavBar() {\n    return (\n        <Navbar sticky=\"top\">\n            { auth.isAuthenticated \n            ? <Nav defaultActiveKey=\"journal\">\n                <Nav.Link as={Link} eventKey=\"summaries\" to={`/summaries/${auth.user.id}`}>Summaries</Nav.Link> \n                <Nav.Link as={Link} eventKey=\"journal\" to={`/journal/${auth.user.id}`}>Journal</Nav.Link> \n                <Nav.Link as={Link} eventKey=\"settings\" to={`/settings/${auth.user.id}`}>Settings</Nav.Link> \n                <NavDropdown title={auth.user.first_name} id=\"user-dropdown\">\n                    <Logout></Logout>\n                </NavDropdown>\n            </Nav>\n            : <Login></Login> }\n        </Navbar>\n    )\n}\n\nexport default NavBar;","import React, { Component, useState } from 'react';\nimport Radium from 'radium';\nimport Moment from 'react-moment';\nimport moment from 'moment';\nimport { Row, Col, FormText } from 'react-bootstrap';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport axios from 'axios';\nimport config from '../../services/config.js';\nimport { CoffeeLoading } from 'react-loadingg';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faEdit, faSortUp, faSortDown } from '@fortawesome/free-solid-svg-icons';\n\n\nfunction EntryToolbox(props) {\n\tlet toolboxStyle = {\n\t\tposition: \"relative\",\n\t\tleft:\"4px\",\n\t\ttop: \"4px\",\n\t\tcolor: `rgba(${props.color.r},${props.color.g},${props.color.b},0.1)`,\n\t\t\n\t\t\":hover\": {\n\t\t\tcolor: `rgba(${props.color.r},${props.color.g},${props.color.b},0.4)`,\n\t\t}\n\t}\n\t\n\tlet toolStyle = {\n\t\tcursor: \"pointer\",\n\t\t\":hover\": {\n\t\t\tcolor: `rgba(${props.color.r},${props.color.g},${props.color.b},1)`,\n\t\t}\n\t}\n\n\tlet handleDelete = async () => {\n\t\ttry {\n\t\t\tawait axios.delete(props.entryUrl);\n\t\t\tif (props.handleDelete) {\n\t\t\t\tprops.handleDelete(props.entryId);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t\t\n\t};\n\n\treturn (\n\t\t<div style={toolboxStyle}>\n\t\t\t<div>\n\t\t\t\t{/* <div key={`edit${props.entryId}`} className=\"edit\" style={toolStyle}>\t\n\t\t\t\t\t<a><FontAwesomeIcon icon={faEdit}/></a>\n\t\t\t\t</div> */}\n\t\t\t\t<div key={`trash${props.entryId}`} className=\"trash\" style={toolStyle}>\n\t\t\t\t\t<a onClick={handleDelete}><FontAwesomeIcon icon={faTrash}/></a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>  \n\t);\n}\n\nEntryToolbox = Radium(EntryToolbox);\n\n\nfunction Entry(props) {\n\tconst [deleted, setDeleted] = useState(false);\n\n\tlet gradient = `linear-gradient(0deg, rgba(${props.endColor.r},${props.endColor.g},${props.endColor.b},1) 0%, rgba(${props.startColor.r},${props.startColor.g},${props.startColor.b},1) 100%)`;\n\t\n\tlet topCornerRadius = props.periodStart ? \"15px\" : \"0px\";\n\tlet bottomCornerRadius = props.periodEnd ? \"15px\" : \"0px\";\n\tlet baseStyle = {\n\t\tbackground: gradient, \n\t\tmarginBottom:\"2px\", \n\t\tpadding:\"15px\", \n\t};\n\n\tlet dateInfoStyle = {\n\t\t...baseStyle,\n\t\tcolor: \"white\", \n\t\tmarginRight:\"2px\", \n\t\tborderTopLeftRadius: topCornerRadius,\n\t\tborderBottomLeftRadius: bottomCornerRadius\n\t}\n\n\tlet entryColStyle = {\n\t\t...baseStyle,\n\t\tbackground: gradient,\n\t\tcolor: \"black\",\n\t\tborderTopRightRadius: topCornerRadius,\n\t\tborderBottomRightRadius: bottomCornerRadius,\n\t\tfontSize: \"20px\"\n\t}\n\n\tlet entryStyle = {\n\t\tbackgroundColor: \"white\", \n\t\tpadding:\"10px\", \n\t\tborderTopRightRadius: topCornerRadius, \n\t\tborderBottomRightRadius: bottomCornerRadius,\n\t\topacity:\"70%\"\n\t};\n\n\t\n\treturn (\n\t\t!deleted ? <Row>\n\t\t\t<Col md={2} mdOffset={2} sm={2} smOffset={2} style={dateInfoStyle}>\n\t\t\t\t<Row><Col><Moment format=\"YYYY/MM/DD\">{props.data.date}</Moment></Col></Row>\n\t\t\t\t<Row><Col><Moment style={{opacity: \"50%\"}} format=\"dddd\">{props.data.date}</Moment></Col></Row>\n\t\t\t\t<Row><Col><Moment style={{opacity: \"50%\"}} fromNow>{props.data.date}</Moment></Col></Row>\n\t\t\t</Col>  \n\t\t\t<Col style={entryColStyle}>\n\t\t\t\t<div style={entryStyle}>{props.data.entry}</div>\n\t\t\t</Col>\n\t\t\t<EntryToolbox entryId={props.data.id} entryUrl={props.data.selfUrl} color={props.startColor} handleDelete={()=> {setDeleted(true)}}></EntryToolbox>\n\t\t</Row> : null \n\t)\n}\n\nclass Entries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisDesc: this.props.match.params.order === \"ASC\" ? false : true,\n\t\t\tentries: [],\n\t\t\thasMore: true,\n\t\t\tcolor: {\n\t\t\t\tr: 0,\n\t\t\t\tg: 128,\n\t\t\t\tb: 181\n\t\t\t}\n\t\t};\n\t}\n\n\tloadEntries = (pageNum) => {\n\t\tvar perPage = 20;\n\t\tvar order = this.state.isDesc?\"DESC\":\"ASC\";\n\t\taxios.get(`${config.apiHost}/users/${this.props.match.params.userId}/entries/?page=${pageNum}&per_page=${perPage}&order=${order}`)\t\n\t\t\t.then((resp) => {\n\t\t\t\tvar entries = this.state.entries;\n\t\t\t\tvar loadedEntries = resp.data;\n\n\t\t\t\tlet startColor = this.state.color;\n\n\t\t\t\tlet randDiff = (num) => {\n\t\t\t\t\tlet diff = Math.floor(Math.random() * 32);\n\n\t\t\t\t\t// if num = 128\n\t\t\t\t\tlet plusMinusRatio = 1 - (num / 128)\n\n\t\t\t\t\tif (Math.random() < plusMinusRatio) {\n\t\t\t\t\t\treturn num + diff;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn num - diff;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet currentIdx = 0;\n\t\t\t\tloadedEntries.forEach((entry) => {\n\t\t\t\t\tentry.selfUrl = `${config.apiHost}/users/${this.props.match.params.userId}/entries/${entry.id}`;\n\n\t\t\t\t\tlet endColor = {\n\t\t\t\t\t\tr: randDiff(startColor.r), g: randDiff(startColor.g), b: randDiff(startColor.b)\n\t\t\t\t\t};\n\n\t\t\t\t\tentry.startColor = startColor;\n\t\t\t\t\tentry.endColor = endColor;\n\n\t\t\t\t\tif ((entries.length === 0) || (loadedEntries[currentIdx-1] && loadedEntries[currentIdx-1].periodEnd)) {\n\t\t\t\t\t\tentry.periodStart = true;\n\t\t\t\t\t} \n\t\t\t\t\t\n\t\t\t\t\tif (loadedEntries.length > currentIdx+1) {\n\t\t\t\t\t\tlet nextEntry = loadedEntries[currentIdx+1];\n\t\t\t\t\t\tlet currentMonth = moment(entry.date).month();\n\t\t\t\t\t\tlet nextEntryMonth = moment(nextEntry.date).month();\n\t\t\t\t\t\tif (currentMonth != nextEntryMonth) {\n\t\t\t\t\t\t\tentry.periodEnd = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentIdx++;\n\n\t\t\t\t\tentries.push(entry);\n\n\t\t\t\t\tstartColor = endColor;\n\t\t\t\t});\n\n\t\t\t\tvar hasMore = true;\n\t\t\t\tif (loadedEntries.length < perPage) {\n\t\t\t\t\thasMore = false;\n\t\t\t\t}\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tentries: entries,\n\t\t\t\t\thasMore: hasMore,\n\t\t\t\t\tcolor: startColor\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\trender() {\n\t\tvar items = [];\n\n\t\tthis.state.entries.forEach(entry => {\n\t\t\titems.push(<Entry startColor={entry.startColor} endColor={entry.endColor} key={entry.id} periodStart={entry.periodStart} periodEnd={entry.periodEnd} data={entry}></Entry>);\n\t\t});\n\n\t\treturn (\n\t\t\t<div key={this.state.isDesc}>\n\t\t\t\t{<CoffeeLoading style={{position: 'relative', left:'50%', marginBottom: \"10px\"}} /> }\n\t\t\t\t<a style={{position: 'relative', left:'50%', marginBottom: \"10px\"}} onClick={()=>this.setState({isDesc: !this.state.isDesc, entries: [], hasMore:true})}>\n\t\t\t\t\t{this.state.isDesc ? <FontAwesomeIcon icon={faSortDown}/> : <FontAwesomeIcon icon={faSortUp}/> }\n\t\t\t\t</a>\n\t\t\t\t<InfiniteScroll\n\t\t\t\t\tpageStart={0}\n\t\t\t\t\tloadMore={this.loadEntries.bind(this)}\n\t\t\t\t\thasMore={this.state.hasMore}\n\t\t\t\t\tloader={this.state.entries.length > 0 ? <CoffeeLoading style={{position: 'relative', left:'50%', marginTop:\"20px\"}} /> : null}\n\t\t\t\t>\n\t\t\t\t\t{items}\n\t\t\t\t</InfiniteScroll>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Entries;\n","import React, {Component} from 'react';\nimport {CardElement, injectStripe} from 'react-stripe-elements';\nimport config from '../../../services/config.js';\nimport axios from 'axios';\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.submit = this.submit.bind(this);\n  }\n\n  async submit(ev) {\n    let {token} = await this.props.stripe.createToken({name: this.props.userId});\n\n    axios.post(`${config.apiHost}/users/${this.props.userId}/subscription`, {\n      \"card_token\": token.id\n    }).then((resp) => {\n      if (this.props.cb) {\n        this.props.cb();\n      }\n    });\n\n  }\n\n  render() {\n    return (\n      <div className=\"checkout\">\n        <p>Subscribe for <strong>$24</strong> per year with a 14-day free trial, cancel anytime</p>\n        <CardElement />\n        <button onClick={this.submit}>Subscribe for $24</button>\n      </div>\n    );\n  }\n}\n\nexport default injectStripe(CheckoutForm);\n","import React, { Component } from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport config from '../../services/config.js';\nimport CheckoutForm from './stripe/CheckoutForm.js';\nimport {Elements} from 'react-stripe-elements';\nimport auth from '../../services/auth.js';\n\nclass Settings extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tphoneNumber: \"\",\n\t\t\tisSubscribed: auth.isSubscribed()\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\taxios.get(`${config.apiHost}/users/${this.props.match.params.userId}/`)\n\t\t\t.then((resp) => {\n\t\t\t\tvar phoneNumber = resp.data.phone_number;\n\t\t\t\tthis.setState({\n\t\t\t\t\tphoneNumber: phoneNumber ? phoneNumber : \"\" \n\t\t\t\t});\n\t\t\t});\n\t}\n\t    \n\thandleChange = (event) =>  {\n\t\tthis.setState({\n\t\t\tphoneNumber: event.target.value\n\t\t});\n\t}\n    \n\thandleSubmit = (event) => {\n\t\taxios.put(`${config.apiHost}/users/${this.props.match.params.userId}/`, {\n\t\t\t\"phone_number\": this.state.phoneNumber\n\t\t}).then((resp) => {\n\t\t\talert(\"successfully updated your phone number, congratulations\");\n\t\t});\n\t\tevent.preventDefault();\n\t}\n\n\thandleSubscribe = () => {\n\t\tthis.setState({\n\t\t\tisSubscribed: true\n\t\t});\n\n\t\tauth.user.subscription_id = \"they subbed dont worry about it\";\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t{ this.state.isSubscribed ?\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<label>Phone Number</label>\n\t\t\t\t\t\t\t\t<input type='text' value={this.state.phoneNumber} onChange={this.handleChange} name='phone_number' /> \n\t\t\t\t\t\t\t\t<input type='submit' value='Submit' onClick={this.handleSubmit}/>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t:  null\n\t\t\t\t\t}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\n\t\t\t\t\n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t\t{ !this.state.isSubscribed ? \n\t\t\t\t\t\t<Elements>\n\t\t\t\t\t\t\t<CheckoutForm userId={this.props.match.params.userId} cb={this.handleSubscribe}/>\n\t\t\t\t\t\t</Elements>\n\t\t\t\t\t\t:  <p>Thanks for subscribing--if you're trying to cancel you'll need to email me: <a href=\"mailto:dailyjournalsubscriptions@gmail.com?Subject=Cancellation\">dailyjournalsubscriptions@gmail.com</a></p>\n\t\t\t\t\t}\n\t\t\t\t\t</Col>\n\t\t\t\t</Row> \n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Settings;\n","import React, { Component, useEffect, useState } from 'react';\nimport Radium from 'radium';\nimport Moment from 'react-moment';\nimport moment from 'moment';\nimport { Row, Col, FormText } from 'react-bootstrap';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport axios from 'axios';\nimport config from '../../services/config.js';\nimport { CoffeeLoading } from 'react-loadingg';\nimport _ from 'lodash';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faEdit, faSortUp, faSortDown } from '@fortawesome/free-solid-svg-icons';\n\nfunction Summary(props) {\n\tconst [summary, setSummary] = useState({});\n\n\t// let loadSummary = async () => {\n\t// \ttry {\n\t// \t\tlet resp = await axios.post(`${config.apiHost}/users/${props.data.user_id}/summaries`, props.data);\n\t// \t\tsetSummary(resp.data);\n\t// \t} catch (e) {\n\t// \t\tconsole.log(e);\n\t// \t}\n\t// }\n\n\t// useEffect(() => {\n\t// \tloadSummary();\n\t// }, []);\n\n\tlet gradient = `linear-gradient(0deg, rgba(${props.endColor.r},${props.endColor.g},${props.endColor.b},1) 0%, rgba(${props.startColor.r},${props.startColor.g},${props.startColor.b},1) 100%)`;\n\t\n\tlet topCornerRadius = props.periodStart ? \"15px\" : \"0px\";\n\tlet bottomCornerRadius = props.periodEnd ? \"15px\" : \"0px\";\n\tlet baseStyle = {\n\t\tbackground: gradient, \n\t\tmarginBottom:\"2px\", \n\t\tpadding:\"15px\", \n\t};\n\n\tlet dateInfoStyle = {\n\t\t...baseStyle,\n\t\tcolor: \"white\", \n\t\tmarginRight:\"2px\", \n\t\tborderTopLeftRadius: topCornerRadius,\n\t\tborderBottomLeftRadius: bottomCornerRadius\n\t}\n\n\tlet entryColStyle = {\n\t\t...baseStyle,\n\t\tbackground: gradient,\n\t\tcolor: \"black\",\n\t\tborderTopRightRadius: topCornerRadius,\n\t\tborderBottomRightRadius: bottomCornerRadius,\n\t\tfontSize: \"20px\"\n\t}\n\n\tlet entryStyle = {\n\t\twhiteSpace:\"pre-wrap\",\n\t\tbackgroundColor: \"white\", \n\t\tpadding:\"10px\", \n\t\tborderTopRightRadius: topCornerRadius, \n\t\tborderBottomRightRadius: bottomCornerRadius,\n\t\topacity:\"70%\"\n\t};\n\n\t\n\treturn (\n\t\t<Row>\n\t\t\t<Col md={2} mdOffset={2} sm={2} smOffset={2} style={dateInfoStyle}>\n\t\t\t\t<Row><Col><Moment format=\"MMM YYYY\">{props.data.start_date}</Moment></Col></Row>\n\t\t\t</Col>  \n\t\t\t<Col style={entryColStyle}>\n\t\t\t\t{props.data.summary ? <div style={entryStyle}>{props.data.summary.trim()}</div> : <CoffeeLoading />}\n\t\t\t</Col>\n\t\t</Row>\n\t)\n}\n\nclass Summaries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsummaries: [],\n\t\t\tisDesc: this.props.match.params.order === \"ASC\" ? false : true,\n\t\t\tstyle: \"overview\",\n\t\t\thasMore: true,\n\t\t\tcolor: {\n\t\t\t\tr: 128,\n\t\t\t\tg: 0,\n\t\t\t\tb: 181\n\t\t\t}\n\t\t};\n\t}\n\n\tloadSummaries = async (pageNum) => {\n\t\tvar perPage = 1;\n\t\tvar order = this.state.isDesc?\"DESC\":\"ASC\";\n\t\tlet resp = await axios.get(`${config.apiHost}/users/${this.props.match.params.userId}/summaries/?page=${pageNum}&per_page=${perPage}&style=${this.state.style}&order=${order}`)\t\n\t\t\n\t\tvar summaries = this.state.summaries;\n\t\tvar loadedSummaries = resp.data;\n\n\t\tlet startColor = this.state.color;\n\t\tlet randDiff = (num) => {\n\t\t\tlet diff = Math.floor(Math.random() * 32);\n\n\t\t\t// if num = 128\n\t\t\tlet plusMinusRatio = 1 - (num / 128)\n\n\t\t\tif (Math.random() < plusMinusRatio) {\n\t\t\t\treturn num + diff;\n\t\t\t} else {\n\t\t\t\treturn num - diff;\n\t\t\t}\n\t\t}\n\n\t\tloadedSummaries.forEach(eg => {\n\t\t\tif (eg.id === \"00000000-0000-0000-0000-000000000000\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet endColor = {\n\t\t\t\tr: randDiff(startColor.r), g: randDiff(startColor.g), b: randDiff(startColor.b)\n\t\t\t};\n\n\t\t\teg.startColor = startColor;\n\t\t\teg.endColor = endColor;\n\t\t\tstartColor = endColor;\n\n\t\t\tsummaries.push(eg);\n\t\t});\n\n\t\tvar hasMore = true;\n\t\tif (loadedSummaries.length < perPage) {\n\t\t\thasMore = false;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tsummaries: summaries,\n\t\t\thasMore: hasMore,\n\t\t\tcolor: startColor\n\t\t});\n\t}\n\n\trender() {\n\t\tvar items = [];\n\n\t\tthis.state.summaries.forEach(eg => {\n\t\t\titems.push(<Summary startColor={eg.startColor} endColor={eg.endColor} key={eg.start_date} periodStart={true} periodEnd={true} data={eg}></Summary>);\n\t\t});\n\n\t\treturn (\n\t\t\t<div key={this.state.style + this.state.isDesc}>\n\t\t\t{<CoffeeLoading style={{position: 'relative', left:'50%', marginBottom: \"10px\"}} /> }\n\t\t\t<a style={{position: 'relative', left:'50%', marginBottom: \"10px\"}} onClick={()=>this.setState({isDesc: !this.state.isDesc, summaries: [], hasMore:true})}>\n\t\t\t\t\t{this.state.isDesc ? <FontAwesomeIcon icon={faSortDown}/> : <FontAwesomeIcon icon={faSortUp}/> }\n\t\t\t\t</a>\n\t\t\t<select value={this.state.style} onChange={(v) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tsummaries: [],\n\t\t\t\t\thasMore: true,\n\t\t\t\t\tstyle: v.target.value\n\t\t\t\t});\n\t\t\t}}>\n\t\t\t\t<option value=\"default\">Overview</option>\n\t\t\t\t<option value=\"haiku\">Haikus</option>\n\t\t\t\t<option value=\"poetry\">Poetry</option>\n\t\t\t</select>\n\t\t\t<InfiniteScroll\n\t\t\t\tpageStart={0}\n\t\t\t\tloadMore={this.loadSummaries.bind(this)}\n\t\t\t\thasMore={this.state.hasMore}\n\t\t\t\tloader={this.state.summaries.length > 0 ? <CoffeeLoading style={{position: 'relative', left:'50%', marginTop:\"20px\"}} /> : null}\n\t\t\t>\n\t\t\t\t{items}\n\t\t\t</InfiniteScroll>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Summaries;\n","import React, { Component } from 'react';\nimport Radium from 'radium';\nimport { Container } from 'react-bootstrap';\nimport { BrowserRouter as Router, Redirect } from 'react-router-dom';\nimport {StripeProvider} from 'react-stripe-elements';\n\nimport PrivateRoute from './components/login/PrivateRoute';\nimport NavBar from './components/nav/NavBar.js';\nimport Entries from './components/pages/Entries.js';\nimport Settings from './components/pages/Settings.js';\nimport Summaries from './components/pages/Summaries.js';\nimport './App.css';\nimport config from './services/config';\nimport auth from './services/auth';\n\n// Component = Radium(Component);\nclass App extends Component {\n  render() {\n\n    return (\n      <Container>\n        <StripeProvider apiKey={config.stripeKey}>\n          <Router>\n            <div>\n                <NavBar></NavBar>\n                <PrivateRoute path=\"/journal/:userId\" component={Entries} />  \n                <PrivateRoute path=\"/summaries/:userId\" component={Summaries} />\n                <PrivateRoute path=\"/settings/:userId\" component={Settings} />\n                \n                { auth.isAuthenticated && auth.isSetUp() ? <Redirect to={{pathname: \"/journal/${auth.user.id}\", query:\"1=1\"}} /> : \n                  auth.isAuthenticated && !auth.isSetUp() ? <Redirect to={`/settings/${auth.user.id}`} /> : \n                  null } \n            </div>\n          </Router>\n        </StripeProvider>\n      </Container>\n    );\n  }\n}\n\nexport default Radium(App);\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <Router>\n        <App/>\n    </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}