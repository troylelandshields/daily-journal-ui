(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){e.exports=a(216)},134:function(e,t,a){},212:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);a(126),a(128);var n=a(0),r=a.n(n),o=a(22),c=a.n(o),i=a(231),l=(a(134),a(14)),s=a(15),u=a(17),m=a(16),p=a(18),d=a(44),h=a(225),b=a(229),g=a(30),f=a(121),E=a(230),y=a(8),v=a.n(y),k={apiHost:"https://buffalo-journal.herokuapp.com",stripeKey:"pk_live_doxQ9etmZ8nozRk89VmvoOrZ"};v.a.defaults.headers.common.Accept="application/json";var C={isAuthenticated:!1,isSubscribed:function(){return null!=C.user.subscription_id},isSetUp:function(){return null!=C.user.subscription_id&&null!=C.user.phone_number},authenticate:function(e,t){v.a.defaults.headers.common.Authorization="Bearer "+e,v.a.defaults.headers.common["X-Dumb-Authorization"]="Bearer "+e,window.localStorage.setItem("token",e),v.a.get("".concat(k.apiHost,"/auth/google")).then(function(e){C.isAuthenticated=!0,C.user=e.data,t&&t()})},autoLogin:function(e){var t=window.localStorage.getItem("token");t?C.authenticate(t,e):e&&e()},signout:function(e){console.log("bye now!"),C.isAuthenticated=!1,C.user=null,window.localStorage.removeItem("token"),e&&e()}},S=C,x=function(e){var t=e.component,a=Object(f.a)(e,["component"]);return r.a.createElement(b.a,Object.assign({},a,{render:function(e){return!0===S.isAuthenticated?r.a.createElement(t,e):r.a.createElement(E.a,{to:{pathname:"/login",state:{from:e.location.pathname}}})}}))},O=a(21),j=a(226),M=a(227),w=a(228),A=a(222),P=a(70),_=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],o=t[1];return a?r.a.createElement(E.a,{to:a}):!S.isAuthenticated&&r.a.createElement(P.GoogleLogin,{clientId:"300709606324-sec60nd2b4hba9b1gkqdcpdlhv2p89kk.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){S.authenticate(e.tokenId,function(){S.isAuthenticated&&S.isSetUp()?o("/journal/".concat(S.user.id)):S.isAuthenticated&&!S.isSetUp()&&o("/settings/".concat(S.user.id))})},onFailure:function(e){console.log("login failed",e),v.a.defaults.headers.common.Authorization=null}})};var D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).logout=function(){S.signout(function(){a.setState({redirect:!0})})},a.renderRedirect=function(){if(a.state.redirect)return r.a.createElement(E.a,{to:"/"})},a.state={redirect:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderRedirect(),r.a.createElement(j.a.Item,{onSelect:this.logout},"Logout"))}}]),t}(n.Component);var I=function(e){var t=function(e){if(!e)return null;var t=e.split("/"),a=t.indexOf("public");return-1===a?null:t[a+1]}(e.location),a=Object(n.useState)(null),o=Object(O.a)(a,2),c=o[0],i=o[1];return Object(n.useEffect)(function(){t&&!c&&v.a.get("".concat(k.apiHost,"/public/").concat(t,"/")).then(function(e){i(e.data)})},[t]),r.a.createElement(M.a,{sticky:"top"},r.a.createElement(r.a.Fragment,null,!t&&S.isAuthenticated?r.a.createElement(w.a,null,r.a.createElement(j.a,{title:"Monthly",id:"summaries-dropdown"},r.a.createElement(w.a.Link,{as:A.a,eventKey:"overviews",to:"/summaries/".concat(S.user.id,"/default")},"Overviews"),r.a.createElement(w.a.Link,{as:A.a,eventKey:"haikus",to:"/summaries/".concat(S.user.id,"/haiku")},"Haikus"),r.a.createElement(w.a.Link,{as:A.a,eventKey:"poetry",to:"/summaries/".concat(S.user.id,"/poetry")},"Poems")),r.a.createElement(w.a.Link,{as:A.a,eventKey:"journal",to:"/journal/".concat(S.user.id)},"Journal"),r.a.createElement(w.a.Link,{as:A.a,eventKey:"settings",to:"/settings/".concat(S.user.id)},"Settings"),r.a.createElement(j.a,{title:S.user.first_name,id:"user-dropdown"},r.a.createElement(D,null))):t&&c?r.a.createElement(w.a,null,r.a.createElement(j.a,{title:"".concat(c.first_name,"'s Months"),id:"public-summaries-dropdown"},r.a.createElement(w.a.Link,{as:A.a,eventKey:"public-overviews",to:"/public/".concat(t,"/summaries/default")},"Public Overviews"),r.a.createElement(w.a.Link,{as:A.a,eventKey:"public-haikus",to:"/public/".concat(t,"/summaries/haiku")},"Public Haikus"),r.a.createElement(w.a.Link,{as:A.a,eventKey:"public-poetry",to:"/public/".concat(t,"/summaries/poetry")},"Public Poems")),r.a.createElement(w.a.Link,{as:A.a,eventKey:"public-journal",to:"/public/".concat(t,"/journal")},"Public Journal"),r.a.createElement(w.a.Link,{as:A.a,eventKey:"public-signin",to:"/"},S.isAuthenticated?"Mine":"Sign Up")):null))},L=a(26),T=a(24),R=a.n(T),U=a(38),H=a(40),B=a.n(H),K=a(43),z=a.n(K),F=a(223),Y=a(224),N=a(58),J=a.n(N),W=a(31),Z=a(32),$=a(33);function q(e){var t={position:"relative",left:"4px",top:"4px",color:"rgba(".concat(e.color.r,",").concat(e.color.g,",").concat(e.color.b,",0.1)"),":hover":{color:"rgba(".concat(e.color.r,",").concat(e.color.g,",").concat(e.color.b,",0.4)")}},a={cursor:"pointer",":hover":{color:"rgba(".concat(e.color.r,",").concat(e.color.g,",").concat(e.color.b,",1)")}},n=function(){var t=Object(U.a)(R.a.mark(function t(){return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.delete(e.entryUrl);case 3:e.handleDelete&&e.handleDelete(e.entryId),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{style:t},r.a.createElement("div",null,r.a.createElement("div",{key:"trash".concat(e.entryId),className:"trash",style:a},r.a.createElement("a",{onClick:n},r.a.createElement(Z.a,{icon:$.c})))))}function G(e){var t=Object(n.useState)(!1),a=Object(O.a)(t,2),o=a[0],c=a[1],i="linear-gradient(0deg, rgba(".concat(e.endColor.r,",").concat(e.endColor.g,",").concat(e.endColor.b,",1) 0%, rgba(").concat(e.startColor.r,",").concat(e.startColor.g,",").concat(e.startColor.b,",1) 100%)"),l=e.periodStart?"15px":"0px",s=e.periodEnd?"15px":"0px",u={background:i,marginBottom:"2px",padding:"15px"},m=Object(L.a)({},u,{color:"white",marginRight:"2px",borderTopLeftRadius:l,borderBottomLeftRadius:s}),p=Object(L.a)({},u,{background:i,color:"black",borderTopRightRadius:l,borderBottomRightRadius:s,fontSize:"20px"}),d={backgroundColor:"white",padding:"10px",borderTopRightRadius:l,borderBottomRightRadius:s,opacity:"70%"};return o?null:r.a.createElement(F.a,null,r.a.createElement(Y.a,{md:2,mdOffset:2,sm:2,smOffset:2,style:m},r.a.createElement(F.a,null,r.a.createElement(Y.a,null,r.a.createElement(B.a,{format:"YYYY/MM/DD"},e.data.date))),r.a.createElement(F.a,null,r.a.createElement(Y.a,null,r.a.createElement(B.a,{style:{opacity:"50%"},format:"dddd"},e.data.date))),r.a.createElement(F.a,null,r.a.createElement(Y.a,null,r.a.createElement(B.a,{style:{opacity:"50%"},fromNow:!0},e.data.date)))),r.a.createElement(Y.a,{style:p},r.a.createElement("div",{style:d},e.data.entry)),!e.isPublic&&r.a.createElement(q,{entryId:e.data.id,entryUrl:e.data.selfUrl,color:e.startColor,handleDelete:function(){c(!0)}}))}q=Object(d.a)(q);var Q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).loadUser=function(){v.a.get("".concat(k.apiHost,"/public/").concat(a.props.match.params.userId,"/")).then(function(e){a.setState({publicUser:e.data})})},a.loadEntries=function(e){var t=a.state.isDesc?"DESC":"ASC";v.a.get("".concat(a.url,"?page=").concat(e,"&per_page=").concat(20,"&order=").concat(t)).then(function(e){var t=a.state.entries,n=e.data,r=a.state.color,o=function(e){var t=Math.floor(32*Math.random()),a=1-e/128;return Math.random()<a?e+t:e-t},c=0;n.forEach(function(e){e.selfUrl="".concat(k.apiHost,"/users/").concat(a.props.match.params.userId,"/entries/").concat(e.id);var i={r:o(r.r),g:o(r.g),b:o(r.b)};if(e.startColor=r,e.endColor=i,(0===t.length||n[c-1]&&n[c-1].periodEnd)&&(e.periodStart=!0),n.length>c+1){var l=n[c+1];z()(e.date).month()!=z()(l.date).month()&&(e.periodEnd=!0)}c++,t.push(e),r=i});var i=!0;n.length<20&&(i=!1),a.setState({entries:t,hasMore:i,color:r})})},a.isPublic=a.props.location.pathname.includes("public"),a.url=a.isPublic?"".concat(k.apiHost,"/public/").concat(a.props.match.params.userId,"/entries/"):"".concat(k.apiHost,"/users/").concat(a.props.match.params.userId,"/entries/"),a.state={isDesc:"ASC"!==a.props.match.params.order,entries:[],publicUser:null,hasMore:!0,color:{r:0,g:128,b:181}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.isPublic&&this.loadUser()}},{key:"render",value:function(){var e=this,t=[];return this.state.entries.forEach(function(a){t.push(r.a.createElement(G,{isPublic:e.isPublic,startColor:a.startColor,endColor:a.endColor,key:a.id,periodStart:a.periodStart,periodEnd:a.periodEnd,data:a}))}),r.a.createElement("div",{key:this.state.isDesc},r.a.createElement(W.CoffeeLoading,{style:{position:"relative",left:"50%",marginBottom:"10px"}}),this.isPublic?this.state.publicUser&&this.state.publicUser.first_name&&r.a.createElement("h3",{style:{textAlign:"center",fontFamily:"'Playfair Display', serif",opacity:"70%"}},"Today, ",this.state.publicUser.first_name," ",this.state.publicUser.last_name,"..."):r.a.createElement("h3",{style:{textAlign:"center",fontFamily:"'Playfair Display', serif",opacity:"70%"}},"Today, I..."),r.a.createElement("a",{style:{position:"relative",left:"50%",marginBottom:"10px"},onClick:function(){return e.setState({isDesc:!e.state.isDesc,entries:[],hasMore:!0})}},this.state.isDesc?r.a.createElement(Z.a,{icon:$.a}):r.a.createElement(Z.a,{icon:$.b})),r.a.createElement(J.a,{pageStart:0,loadMore:this.loadEntries.bind(this),hasMore:this.state.hasMore,loader:r.a.createElement(W.LoopCircleLoading,{size:"small",style:{position:"relative",left:"50%",marginTop:"20px"}})},t))}}]),t}(n.Component),V=a(57),X=a(45),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).submit=a.submit.bind(Object(X.a)(Object(X.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"submit",value:function(){var e=Object(U.a)(R.a.mark(function e(t){var a,n,r=this;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.stripe.createToken({name:this.props.userId});case 2:a=e.sent,n=a.token,v.a.post("".concat(k.apiHost,"/users/").concat(this.props.userId,"/subscription"),{card_token:n.id}).then(function(e){r.props.cb&&r.props.cb()});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"checkout"},r.a.createElement("p",null,"Subscribe for ",r.a.createElement("strong",null,"$24")," per year with a 14-day free trial, cancel anytime"),r.a.createElement(g.CardElement,null),r.a.createElement("button",{onClick:this.submit},"Subscribe for $24"))}}]),t}(n.Component),te=Object(g.injectStripe)(ee),ae=a(63);function ne(e){if(!e.days)return null;var t=Object(n.useState)(parseInt(e.days,2)),a=Object(O.a)(t,2),o=a[0],c=a[1];var i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],l=[{start:"rgb(128, 0, 181)",end:"rgb(128, 0, 181)"},{start:"rgb(128, 0, 181)",end:"rgb(85, 0, 181)"},{start:"rgb(85, 0, 181)",end:"rgb(85, 10, 109)"},{start:"rgb(85, 10, 109)",end:"rgb(101, 20, 80"},{start:"rgb(101, 20, 80)",end:"rgb(101, 60, 30)"},{start:"rgb(101, 60, 30)",end:"rgb(40, 110, 50)"},{start:"rgb(40, 110, 50)",end:"rgb(10, 140, 90)"}];return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"300px"}},i.map(function(t,a){return r.a.createElement("button",{id:"day-".concat(a,"-").concat(l[a].start),key:a,style:{background:o&1<<a?"linear-gradient(to right, ".concat(l[a].start,", ").concat(l[a].end,")"):"white",color:o&1<<a?"white":"black",border:"none",padding:"5px 10px",borderRadius:0===a?"25px 0 0 25px":a===i.length-1?"0 25px 25px 0":"none"},onClick:function(t){t.preventDefault(),function(t){var a=1<<t;c(function(e){return e^a}),e.handleChange&&e.handleChange((o^a).toString(2).padStart(7,"0"))}(a)}},t)}))}var re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e,t){a.setState({settings:Object(L.a)({},a.state.settings,Object(V.a)({},e,t))})},a.handleSubmit=function(e){e.preventDefault(),v.a.put("".concat(k.apiHost,"/users/").concat(a.props.match.params.userId,"/"),a.state.settings).then(function(e){ae.b.success("Success!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})},a.handleSubscribe=function(){a.setState({isSubscribed:!0}),S.user.subscription_id="they subbed dont worry about it"},a.state={settings:{},isSubscribed:S.isSubscribed()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("".concat(k.apiHost,"/users/").concat(this.props.match.params.userId,"/")).then(function(t){e.setState({settings:{days_of_week:t.data.days_of_week,phone_number:t.data.phone_number,send_hour:t.data.send_hour,time_zone:t.data.time_zone,prompt:t.data.prompt}})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(Y.a,null,this.state.isSubscribed?r.a.createElement("form",{className:""},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{style:{textAlign:"center",fontStyle:"bold",fontFamily:"'Playfair Display', serif",opacity:"100%"}},"Phone Number")),r.a.createElement("td",null,r.a.createElement("input",{style:{border:"none",padding:"5px",marginLeft:"8px",background:"linear-gradient(to right, rgb(0, 128, 181), rgb(128, 0, 181))",color:"white"},type:"text",value:this.state.settings.phone_number,onChange:function(t){return e.handleChange(t.target.name,t.target.value)},name:"phone_number"}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{style:{textAlign:"center",fontStyle:"bold",fontFamily:"'Playfair Display', serif",opacity:"100%"}},"Custom Message")),r.a.createElement("td",null,r.a.createElement("input",{style:{border:"none",padding:"5px",marginLeft:"8px",background:"linear-gradient(to right, rgb(0, 128, 181), rgb(128, 0, 181))",color:"white"},type:"text",value:this.state.settings.prompt,onChange:function(t){return e.handleChange(t.target.name,t.target.value)},name:"prompt"}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{style:{textAlign:"center",fontStyle:"bold",fontFamily:"'Playfair Display', serif",opacity:"100%"}},"Send Hour")),r.a.createElement("td",null,r.a.createElement("select",{id:"hour",style:{width:"22%",border:"none",padding:"5px",marginLeft:"8px",background:"linear-gradient(to right, rgb(0, 128, 181), rgb(128, 0, 181))",color:"white"},type:"text",value:this.state.settings.send_hour,onChange:function(t){return e.handleChange(t.target.name,parseInt(t.target.value))},name:"send_hour"},r.a.createElement("option",{value:""},"Choose an hour"),r.a.createElement("option",{value:"6"},"6 AM"),r.a.createElement("option",{value:"7"},"7 AM"),r.a.createElement("option",{value:"8"},"8 AM"),r.a.createElement("option",{value:"9"},"9 AM"),r.a.createElement("option",{value:"10"},"10 AM"),r.a.createElement("option",{value:"11"},"11 AM"),r.a.createElement("option",{value:"12"},"12 PM"),r.a.createElement("option",{value:"13"},"1 PM"),r.a.createElement("option",{value:"14"},"2 PM"),r.a.createElement("option",{value:"15"},"3 PM"),r.a.createElement("option",{value:"16"},"4 PM"),r.a.createElement("option",{value:"17"},"5 PM"),r.a.createElement("option",{value:"18"},"6 PM"),r.a.createElement("option",{value:"19"},"7 PM"),r.a.createElement("option",{value:"20"},"8 PM"),r.a.createElement("option",{value:"21"},"9 PM"),r.a.createElement("option",{value:"22"},"10 PM"),r.a.createElement("option",{value:"23"},"11 PM")),r.a.createElement("select",{id:"timezone",value:this.state.settings.time_zone,style:{maxWidth:"27%",border:"none",padding:"5px",background:"linear-gradient(to right, rgb(128, 0, 181), rgb(101, 20, 80)",color:"white"},name:"send_hour",onChange:function(t){return e.handleChange(t.target.name,parseInt(t.target.value))}},r.a.createElement("option",{value:"America/New_York"},"Eastern Time (ET)"),r.a.createElement("option",{value:"America/Chicago"},"Central Time (CT)"),r.a.createElement("option",{value:"America/Denver"},"Mountain Time (MT)"),r.a.createElement("option",{value:"America/Phoenix"},"Arizona Time"),r.a.createElement("option",{value:"America/Los_Angeles"},"Pacific Time (PT)"),r.a.createElement("option",{value:"America/Anchorage"},"Alaska Time (AKT)"),r.a.createElement("option",{value:"America/Adak"},"Hawaii-Aleutian Time (HAT)")))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{style:{textAlign:"center",fontStyle:"bold",fontFamily:"'Playfair Display', serif",opacity:"100%"}},"Send on Days")),r.a.createElement("td",null,r.a.createElement(ne,{days:this.state.settings.days_of_week,handleChange:function(t){return e.handleChange("days_of_week",t)}}))))),r.a.createElement("p",null,r.a.createElement("input",{style:{background:"none",border:"1px solid #cccccc",borderRadius:"8px"},onMouseOver:function(e){return e.target.style.border="1px solid #888888"},onMouseOut:function(e){return e.target.style.border="1px solid #cccccc"},type:"submit",value:"Save",onClick:this.handleSubmit}))):null)),r.a.createElement(F.a,null,r.a.createElement(Y.a,null,!this.state.isSubscribed&&r.a.createElement(g.Elements,null,r.a.createElement(te,{userId:this.props.match.params.userId,cb:this.handleSubscribe})))))}}]),t}(n.Component);var oe=function(e){return r.a.createElement("div",null,"Welcome!",r.a.createElement(_,null))};a(211);function ce(e){var t=Object(n.useState)({}),a=Object(O.a)(t,2),o=(a[0],a[1],"linear-gradient(0deg, rgba(".concat(e.endColor.r,",").concat(e.endColor.g,",").concat(e.endColor.b,",1) 0%, rgba(").concat(e.startColor.r,",").concat(e.startColor.g,",").concat(e.startColor.b,",1) 100%)")),c=e.periodStart?"15px":"0px",i=e.periodEnd?"15px":"0px",l={background:o,marginBottom:"2px",padding:"15px"},s=Object(L.a)({},l,{color:"white",marginRight:"2px",borderTopLeftRadius:c,borderBottomLeftRadius:i}),u=Object(L.a)({},l,{background:o,color:"black",borderTopRightRadius:c,borderBottomRightRadius:i,fontSize:"20px"}),m={whiteSpace:"pre-wrap",backgroundColor:"white",padding:"10px",borderTopRightRadius:c,borderBottomRightRadius:i,opacity:"70%"};return r.a.createElement(F.a,null,r.a.createElement(Y.a,{md:2,mdOffset:2,sm:2,smOffset:2,style:s},r.a.createElement(F.a,null,r.a.createElement(Y.a,null,r.a.createElement(B.a,{format:"MMM YYYY"},e.data.start_date)))),r.a.createElement(Y.a,{style:u},e.data.summary?r.a.createElement("div",{style:m},e.data.summary.trim()):r.a.createElement(W.CoffeeLoading,null)))}var ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).loadSummaries=function(){var e=Object(U.a)(R.a.mark(function e(t){var n,r,o,c,i,l,s,u;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1,r=a.state.isDesc?"DESC":"ASC",e.next=4,v.a.get("".concat(a.url,"?page=").concat(t,"&per_page=").concat(n,"&style=").concat(a.props.match.params.style,"&order=").concat(r));case 4:o=e.sent,c=a.state.summaries,i=o.data,l=a.state.color,s=function(e){var t=Math.floor(32*Math.random()),a=1-e/128;return Math.random()<a?e+t:e-t},i.forEach(function(e){if("00000000-0000-0000-0000-000000000000"!==e.id){var t={r:s(l.r),g:s(l.g),b:s(l.b)};e.startColor=l,e.endColor=t,l=t,c.push(e)}}),u=!0,i.length<n&&(u=!1),a.setState({summaries:c,hasMore:u,color:l});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.loadUser=function(){v.a.get("".concat(k.apiHost,"/public/").concat(a.props.match.params.userId,"/")).then(function(e){a.setState({publicUser:e.data})})},a.isPublic=a.props.location.pathname.includes("public"),a.url=a.isPublic?"".concat(k.apiHost,"/public/").concat(a.props.match.params.userId,"/summaries/").concat(a.props.match.params.style):"".concat(k.apiHost,"/users/").concat(a.props.match.params.userId,"/summaries/"),a.state={summaries:[],isDesc:"ASC"!==a.props.match.params.order,hasMore:!0,publicUser:null,color:{r:128,g:0,b:181}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.style!==this.props.match.params.style&&this.setState({summaries:[],hasMore:!0})}},{key:"componentDidMount",value:function(){this.isPublic&&this.loadUser()}},{key:"render",value:function(){var e=this,t=[];return this.state.summaries.forEach(function(a){t.push(r.a.createElement(ce,{startColor:a.startColor,endColor:a.endColor,key:e.props.match.params.style+a.start_date+a.id,periodStart:!0,periodEnd:!0,data:a}))}),r.a.createElement("div",{key:this.props.match.params.style+this.state.isDesc},r.a.createElement(W.CoffeeLoading,{style:{position:"relative",left:"50%",marginBottom:"10px"}}),this.isPublic?this.state.publicUser&&this.state.publicUser.first_name?r.a.createElement("h3",{style:{textAlign:"center",fontFamily:"'Playfair Display', serif",opacity:"70%"}},"This month, ",this.state.publicUser.first_name," ",this.state.publicUser.last_name,"..."):null:r.a.createElement("h3",{style:{textAlign:"center",fontFamily:"'Playfair Display', serif",opacity:"70%"}},"This month, I..."),r.a.createElement("a",{style:{position:"relative",left:"50%",marginBottom:"10px"},onClick:function(){return e.setState({isDesc:!e.state.isDesc,summaries:[],hasMore:!0})}},this.state.isDesc?r.a.createElement(Z.a,{icon:$.a}):r.a.createElement(Z.a,{icon:$.b})),r.a.createElement(J.a,{pageStart:0,loadMore:this.loadSummaries.bind(this),hasMore:this.state.hasMore,loader:r.a.createElement(W.LoopCircleLoading,{size:"small",style:{position:"relative",left:"50%",marginTop:"20px"}})},t))}}]),t}(n.Component),le=(a(212),a(214),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(g.StripeProvider,{apiKey:k.stripeKey},r.a.createElement("div",null,r.a.createElement(ae.a,null),r.a.createElement(I,{location:window.location.href}),r.a.createElement(x,{path:"/journal/:userId",component:Q}),r.a.createElement(x,{path:"/summaries/:userId/:style",component:ie}),r.a.createElement(x,{path:"/settings/:userId",component:re}),r.a.createElement(b.a,{path:"/public/:userId/journal",component:Q}),r.a.createElement(b.a,{path:"/public/:userId/summaries/:style",component:ie}),r.a.createElement(b.a,{exact:!0,path:"/",component:oe}))))}}]),t}(n.Component)),se=Object(d.a)(le);S.autoLogin(function(){return c.a.render(r.a.createElement(i.a,null,r.a.createElement(se,null)),document.getElementById("root"))})}},[[125,2,1]]]);
//# sourceMappingURL=main.5541f9ce.chunk.js.map